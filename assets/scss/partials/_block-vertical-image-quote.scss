/* Vertical Image Quote Block
--------------------------------------------- */

// Import base styles for breakpoints
@import "base";

@keyframes rotate-slow {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.vertical-image-quote {
    padding: var(--wp--custom--layout--block-gap-large) 0;

    &__inner {
        max-width: var(--wp--custom--layout--content);
        margin: 0 auto;
        // display: grid;
        // grid-template-columns: 1fr;
        // gap: var(--wp--custom--layout--block-gap-large);
        // align-items: start;

        @include media(">=tablet") {
            //grid-template-columns: 1fr 1fr;
            //gap: calc(var(--wp--custom--layout--block-gap-large) * 1.5);
        }
    }

    // Content Section (now first/top)
    &__content {
        display: flex;
        flex-direction: column;
        gap: var(--wp--custom--layout--block-gap);
        position: relative;
		background-color: var(--wp--preset--color--jade);
    }

    &__quote-icon {
        width: 48px;
        height: 48px;

        img {
            width: 100%;
            height: auto;
            display: block;
        }
    }

    &__quote {
        font-family: var(--wp--preset--font-family--oswald);
        font-size: var(--wp--preset--font-size--x-large);
        line-height: var(--wp--custom--line-height--small);
        font-weight: 400;
        margin: 0;
        color: var(--wp--preset--color--background);

        p {
            margin: 0;

            & + p {
                margin-top: var(--wp--custom--layout--block-gap);
            }
        }
    }

    &__attribution {
        font-family: var(--wp--preset--font-family--dm-sans);
        font-size: var(--wp--preset--font-size--medium);
        font-style: normal;
        font-weight: 700;
        color: var(--wp--preset--color--background);
    }

    // Badge
    &__badge {
        position: absolute;
        bottom: -30px;
        right: -30px;
        width: 160px;
        height: 164px;
        z-index: 2;

        @include media("<tablet") {
            display: none;
        }
    }

    &__badge-svg {
        width: 100%;
        height: 100%;
        animation: rotate-slow 20s linear infinite;
    }

    // Image Section (now second/bottom)
    &__image-wrapper {
        position: relative;
    }

    &__image {
        width: 100%;
        height: auto;
        display: block;
    }

    &__image-placeholder {
        width: 100%;
        min-height: 400px;
        background: var(--wp--custom--color--neutral-200);
        display: flex;
        align-items: center;
        justify-content: center;

        p {
            color: var(--wp--custom--color--neutral-500);
            font-size: var(--wp--preset--font-size--medium);
            margin: 0;
        }
    }

    &__caption {
        margin-top: 12px;
        font-size: var(--wp--preset--font-size--small);
        color: var(--wp--preset--color--foreground);
        opacity: 0.7;
        font-style: italic;
    }

    // Background Color Support
    &.has-background {
        padding-left: var(--wp--custom--layout--padding);
        padding-right: var(--wp--custom--layout--padding);

        &.alignfull {
            padding-left: var(--wp--custom--layout--padding);
            padding-right: var(--wp--custom--layout--padding);
        }
    }

    // Text Color Options
    &.has-text-color {
        .vertical-image-quote__quote,
        .vertical-image-quote__attribution,
        .vertical-image-quote__caption {
            color: inherit;
        }
    }
}

// Editor Styles
.editor-styles-wrapper .vertical-image-quote {
    margin-top: var(--wp--custom--layout--block-gap);
    margin-bottom: var(--wp--custom--layout--block-gap);
}
